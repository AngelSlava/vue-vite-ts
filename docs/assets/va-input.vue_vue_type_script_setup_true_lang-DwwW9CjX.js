import{h as _,M as f,J as h,N as F,o as l,c as r,t as $,n as u,p as d,x as w,m as v,X as M,u as V,k as E,F as k,a as y,i as I,Y as S,s as D,f as N,d as z,_ as j}from"./index-BQTvOb3X.js";const J={key:0,class:"va-field-control__label"},L={key:1,class:"va-field-control__error"},G=_({__name:"va-input-wrapper",props:{label:{},prop:{default:()=>""},errors:{default:()=>[]}},setup(c){const o=c,a=f("formOptions",{v$:null,loading:!1}),i=h(()=>{var t;if(o.errors.length)return o.errors;const e=a.value.v$;return e&&e[o.prop]?(t=e[o.prop])==null?void 0:t.$errors:[]}),n=h(()=>{var e;return!!((e=i.value)!=null&&e.length)});F("fieldSettings",{isError:n,prop:o.prop,reset:m});function m(){var e;a.value.v$&&o.prop&&((e=a.value.v$[o.prop])==null||e.$reset())}return(e,t)=>(l(),r("div",{class:w(["va-field-control py-4",{"is-loading":v(a).loading}])},[e.$slots.label?u("",!0):(l(),r("div",J,$(e.label),1)),d(e.$slots,"label",{label:e.label}),d(e.$slots,"default"),n.value&&!e.$slots.error?(l(),r("div",L,$(i.value[0].$message),1)):u("",!0),d(e.$slots,"error",{error:n.value?i.value[0].$message:"",errors:i.value})],2))}}),P={key:0,class:"va-form__item-prefix"},U={class:"va-form__item-wrapper"},X=["type","disabled","autocomplete","placeholder"],Y={key:1,class:"va-form__item-suffix flex items-stretch"},q=["onClick"],H=_({__name:"va-input",props:M({prefix:{},placeholder:{},clearable:{type:Boolean},disabled:{type:Boolean},resetOnInput:{type:Boolean},password:{type:Boolean},autocomplete:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const o=V(c,"modelValue"),a=c,i=f("globalOptions",{allFieldsClearable:!1}),n=f("formOptions",{v$:null,loading:!1}),{isError:m,reset:e}=f("fieldSettings",{isError:!1,prop:"",loading:!1,reset:()=>{}}),t=E(!1),b=h(()=>{const s=[];return o.value&&(a.clearable||i.value.allFieldsClearable)&&s.push({icon:"xmark",onClick:B}),o.value&&a.password&&s.push({icon:t.value?"eye-slash":"eye",onClick:()=>t.value=!t.value}),s});function B(){o.value="",a.resetOnInput&&e()}function C(){a.resetOnInput&&e()}return(s,g)=>(l(),r("div",{class:w(["va-form__item flex items-stretch",[{"is-error":v(m)},{"is-disabled":v(n).loading||s.disabled}]])},[!s.$slots.prefix&&s.prefix?(l(),r(k,{key:0},[s.prefix?(l(),r("div",P,$(s.prefix),1)):u("",!0)],64)):u("",!0),d(s.$slots,"prefix"),y("div",U,[I(y("input",{"onUpdate:modelValue":g[0]||(g[0]=p=>o.value=p),type:s.password&&!t.value?"password":"text",disabled:v(n).loading||s.disabled,autocomplete:s.autocomplete?s.autocomplete:s.password?"current-password":"off",placeholder:s.placeholder,onInput:C},null,40,X),[[S,o.value]])]),d(s.$slots,"suffix"),b.value.length?(l(),r("div",Y,[(l(!0),r(k,null,D(b.value,(p,O)=>(l(),r("button",{key:O,class:"va-button is-link",onClick:N(p.onClick,["prevent","stop"])},[(l(),z(j,{icon:p.icon,key:p.icon,size:16},null,8,["icon"]))],8,q))),128))])):u("",!0)],2))}});export{H as _,G as a};
